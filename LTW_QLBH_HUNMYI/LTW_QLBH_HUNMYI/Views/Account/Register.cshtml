@{
    ViewBag.Title = "Đăng ký";
    Layout = "~/Views/Shared/_LayoutLogin.cshtml";
}

<h2 class="text-center mb-4">Đăng ký tài khoản</h2>

@if (ViewBag.Error != null)
{
    <div class="alert alert-danger">
        <i class="fas fa-exclamation-circle"></i> @ViewBag.Error
    </div>
}

@using (Html.BeginForm("Register", "Account", FormMethod.Post, new { @class = "needs-validation" }))
{
    @Html.AntiForgeryToken()

    <div class="row">
        <div class="col-md-6 mb-3">
            <label for="hoTen" class="form-label">
                <i class="fas fa-user"></i> Họ tên <span class="text-danger">*</span>
            </label>
            <input type="text" class="form-control" id="hoTen" name="hoTen"
                   placeholder="Nhập họ tên" required>
        </div>

        <div class="col-md-6 mb-3">
            <label for="gioiTinh" class="form-label">
                <i class="fas fa-venus-mars"></i> Giới tính
            </label>
            <select class="form-control" id="gioiTinh" name="gioiTinh">
                <option value="Nam">Nam</option>
                <option value="Nữ">Nữ</option>
            </select>
        </div>
    </div>

    <div class="row">
        <div class="col-md-6 mb-3">
            <label for="sdt" class="form-label">
                <i class="fas fa-phone"></i> Số điện thoại <span class="text-danger">*</span>
            </label>
            <input type="tel" class="form-control" id="sdt" name="sdt"
                   placeholder="Nhập số điện thoại" pattern="[0-9]{10}" required>
        </div>

        <div class="col-md-6 mb-3">
            <label for="email" class="form-label">
                <i class="fas fa-envelope"></i> Email <span class="text-danger">*</span>
            </label>
            <input type="email" class="form-control" id="email" name="email"
                   placeholder="Nhập email" required>
        </div>
    </div>

    <div class="mb-3">
        <label for="diaChi" class="form-label">
            <i class="fas fa-map-marker-alt"></i> Địa chỉ
        </label>
        <input type="text" class="form-control" id="diaChi" name="diaChi"
               placeholder="Nhập địa chỉ">
    </div>

    <hr class="my-4">

    <div class="mb-3">
        <label for="username" class="form-label">
            <i class="fas fa-user-circle"></i> Tên đăng nhập <span class="text-danger">*</span>
        </label>
        <input type="text" class="form-control" id="username" name="username"
               placeholder="Nhập tên đăng nhập" required>
    </div>

    <div class="row">
        <div class="col-md-6 mb-3">
            <label for="password" class="form-label">
                <i class="fas fa-lock"></i> Mật khẩu <span class="text-danger">*</span>
            </label>
            <input type="password" class="form-control" id="password" name="password"
                   placeholder="Nhập mật khẩu" minlength="6" required>
        </div>

        <div class="col-md-6 mb-3">
            <label for="confirmPassword" class="form-label">
                <i class="fas fa-lock"></i> Xác nhận mật khẩu <span class="text-danger">*</span>
            </label>
            <input type="password" class="form-control" id="confirmPassword" name="confirmPassword"
                   placeholder="Nhập lại mật khẩu" minlength="6" required>
        </div>
    </div>

    <button type="submit" class="btn btn-login mb-3">
        <i class="fas fa-user-plus"></i> Đăng ký
    </button>

    <div class="text-center">
        <p class="mb-0">
            Đã có tài khoản?
            <a href="@Url.Action("Login", "Account")" class="text-decoration-none fw-bold">
                Đăng nhập ngay
            </a>
        </p>
    </div>
}

@section scripts {
    <script>
    document.querySelector('form').addEventListener('submit', function(e) {
        var password = document.getElementById('password').value;
        var confirmPassword = document.getElementById('confirmPassword').value;

        if (password !== confirmPassword) {
            e.preventDefault();
            alert('Mật khẩu xác nhận không khớp!');
            return false;
        }
    });
    </script>
}